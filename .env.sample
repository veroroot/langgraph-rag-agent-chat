# ============================================
# LangChain LangGraph RAG Agent 환경 변수 설정
# ============================================
# 이 파일을 .env로 복사하여 사용하세요:
# cp .env.sample .env
# 그 다음 아래 값들을 실제 값으로 변경하세요.

# ============================================
# 애플리케이션 기본 설정
# ============================================
APP_NAME=LangChain LangGraph Agent
APP_VERSION=0.1.0
DEBUG=false

# ============================================
# 데이터베이스 설정
# ============================================
# Docker Compose 사용 시: postgresql://postgres:postgres@db:5432/rag_agent
# 로컬 개발 시: postgresql://postgres:postgres@localhost:5432/rag_agent
DATABASE_URL=postgresql://postgres:postgres@db:5432/rag_agent

# ============================================
# JWT 인증 설정
# ============================================
# ⚠️ 중요: 프로덕션에서는 반드시 강력한 시크릿 키를 사용하세요!
# 시크릿 키 생성 방법: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-in-production-use-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# 벡터 스토어 설정
# ============================================
# 옵션: pgvector, milvus
# pgvector (기본값): PostgreSQL + pgvector 확장
# milvus: 분산 벡터 데이터베이스 (별도 서비스 필요)
VECTOR_STORE_TYPE=pgvector
VECTOR_DIMENSION=1536
VECTOR_COLLECTION_NAME=document_embeddings

# ============================================
# Milvus 설정 (VECTOR_STORE_TYPE=milvus일 때)
# ============================================
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_USER=
MILVUS_PASSWORD=
MILVUS_DB_NAME=default
MILVUS_CONSISTENCY_LEVEL=Session
MILVUS_SECURE=false

# ============================================
# 임베딩 모델 설정
# ============================================
# OpenAI 임베딩 모델: text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_PROVIDER=openai

# ============================================
# LLM (Large Language Model) 설정
# ============================================
# OpenAI 모델: gpt-5-mini, gpt-5, gpt-4o-mini, gpt-4o, gpt-4-turbo, gpt-3.5-turbo
LLM_MODEL=gpt-5-mini
LLM_TEMPERATURE=0.0
LLM_PROVIDER=openai

# ============================================
# OpenAI API 키
# ============================================
# ⚠️ 필수: OpenAI API 키를 설정해야 합니다!
# https://platform.openai.com/api-keys 에서 발급받으세요
OPENAI_API_KEY=your-openai-api-key-here

# ============================================
# 파일 저장 설정
# ============================================
# 옵션: local, s3
STORAGE_TYPE=local
UPLOAD_DIR=./data/uploads
# 최대 업로드 크기 (바이트 단위, 기본값: 1000MB)
MAX_UPLOAD_SIZE=1048576000
# 허용된 파일 확장자 (배열)
ALLOWED_EXTENSIONS=[".pdf", ".docx", ".txt", ".md"]

# ============================================
# AWS S3 설정 (STORAGE_TYPE이 s3인 경우)
# ============================================
# S3를 사용하지 않는 경우 아래 값들은 비워두셔도 됩니다
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
S3_BUCKET_NAME=

# ============================================
# Rate Limiting (요청 제한) 설정
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=30

# ============================================
# CORS (Cross-Origin Resource Sharing) 설정
# ============================================
# 프론트엔드 URL을 배열 쉼표로 구분하여 추가하세요
# 예: http://localhost:3000,https://yourdomain.com
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]

# ============================================
# 로깅 설정
# ============================================
# 옵션: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

